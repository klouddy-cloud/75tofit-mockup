<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>75toFit — Retos</title>
<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&family=DM+Sans:wght@400;500;700&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent}
body{background:#EFEFEF;font-family:'DM Sans',sans-serif;color:#2D3436;min-height:100vh;display:flex;justify-content:center}
.app{width:100%;max-width:430px;background:#F7F7F2;min-height:100vh;position:relative;padding-bottom:80px;overflow-x:hidden}
h1,h2,h3,.nunito{font-family:'Nunito',sans-serif}
.header{padding:20px 20px 12px;text-align:center}
.header h1{font-size:22px;font-weight:800}
.header-back{display:flex;align-items:center;padding:20px 20px 12px}
.header-back .back-btn{width:38px;height:38px;border-radius:50%;background:#fff;display:flex;align-items:center;justify-content:center;cursor:pointer;box-shadow:0 2px 8px rgba(0,0,0,.06)}
.header-back h1{flex:1;text-align:center;font-size:22px;font-weight:800;margin-right:38px}
.card{background:#fff;border-radius:20px;box-shadow:0 2px 12px rgba(0,0,0,.06);padding:20px;margin:0 16px 14px}
.pill{display:inline-block;padding:4px 12px;border-radius:20px;font-size:11px;font-weight:700;font-family:'Nunito',sans-serif}
.pill-coral{background:#FF6B6B22;color:#FF6B6B}
.pill-teal{background:#4ECDC422;color:#4ECDC4}
.pill-gold{background:#FFE66D44;color:#B8860B;font-size:10px;padding:2px 8px}
.hero-title{font-family:'Nunito',sans-serif;font-weight:800;font-size:20px;margin:12px 0 6px;line-height:1.3}
.hero-sub{color:#636E72;font-size:13px;margin-bottom:12px}
.stats-row{display:flex;gap:16px;margin-bottom:16px}
.stat-item{display:flex;align-items:center;gap:5px;color:#636E72;font-size:12px}
.stat-item svg{width:14px;height:14px;fill:none;stroke:#636E72;stroke-width:2;stroke-linecap:round;stroke-linejoin:round}
.btn-coral{width:100%;padding:14px;background:#FF6B6B;color:#fff;border:none;border-radius:14px;font-family:'Nunito',sans-serif;font-weight:700;font-size:15px;cursor:pointer;transition:opacity .2s}
.btn-coral:active{opacity:.85}
.section-title{font-family:'Nunito',sans-serif;font-weight:700;font-size:18px;margin:20px 16px 10px}
.past-card{background:#fff;border-radius:20px;box-shadow:0 2px 12px rgba(0,0,0,.06);padding:14px 16px;margin:0 16px 10px;display:flex;align-items:center;gap:12px;cursor:pointer;transition:transform .2s}
.past-card:active{transform:scale(.98)}
.week-circle{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-family:'Nunito',sans-serif;font-weight:800;font-size:13px;color:#fff;flex-shrink:0}
.past-info{flex:1;min-width:0}
.past-name{font-weight:700;font-size:14px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.past-meta{color:#636E72;font-size:12px;margin-top:2px}
.past-arrow{flex-shrink:0;width:20px;height:20px}
.past-arrow svg{width:20px;height:20px;fill:none;stroke:#B2BEC3;stroke-width:2;stroke-linecap:round;stroke-linejoin:round}
/* Detail view */
.coach-row{display:flex;align-items:center;gap:10px;margin:14px 0 10px}
.avatar-sm{width:34px;height:34px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-family:'Nunito',sans-serif;font-weight:800;font-size:12px;color:#fff;flex-shrink:0}
.coach-name{font-weight:700;font-size:14px}
.coach-date{color:#636E72;font-size:12px}
.desc{color:#636E72;font-size:14px;line-height:1.5;margin-bottom:14px}
.countdown-pill{display:inline-flex;align-items:center;gap:6px;padding:6px 14px;border-radius:20px;background:#4ECDC418;color:#4ECDC4;font-size:13px;font-weight:600;margin-bottom:10px}
.countdown-pill svg{width:14px;height:14px;fill:none;stroke:#4ECDC4;stroke-width:2;stroke-linecap:round;stroke-linejoin:round}
.detail-stats{color:#636E72;font-size:12px;margin-top:6px}
/* Submit */
.upload-area{border:2px dashed #DFE6E9;border-radius:14px;padding:28px;text-align:center;color:#B2BEC3;margin-bottom:14px;cursor:pointer;transition:border-color .2s}
.upload-area:hover{border-color:#4ECDC4}
.upload-area svg{width:36px;height:36px;fill:none;stroke:#B2BEC3;stroke-width:1.5;stroke-linecap:round;stroke-linejoin:round;margin-bottom:6px}
.upload-area p{font-size:13px}
.input-field{width:100%;padding:12px 16px;border:none;background:#F0F0F0;border-radius:14px;font-family:'DM Sans',sans-serif;font-size:14px;color:#2D3436;margin-bottom:14px;outline:none}
.toggle-row{display:flex;align-items:center;gap:10px;margin-bottom:16px;font-size:13px;color:#636E72}
.toggle-row svg{width:18px;height:18px;fill:none;stroke:#636E72;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;flex-shrink:0}
.toggle-text{flex:1}
.toggle-switch{width:44px;height:24px;border-radius:12px;background:#4ECDC4;position:relative;cursor:pointer;transition:background .2s;flex-shrink:0}
.toggle-switch.off{background:#DFE6E9}
.toggle-switch::after{content:'';position:absolute;width:20px;height:20px;border-radius:50%;background:#fff;top:2px;left:22px;transition:left .2s;box-shadow:0 1px 3px rgba(0,0,0,.15)}
.toggle-switch.off::after{left:2px}
/* Filters */
.filter-row{display:flex;align-items:center;gap:8px;margin:0 16px 12px;flex-wrap:wrap}
.filter-pill{padding:6px 14px;border-radius:20px;font-size:13px;font-weight:600;font-family:'Nunito',sans-serif;background:#F0F0F0;color:#636E72;cursor:pointer;border:none;transition:all .2s}
.filter-pill.active{background:#FF6B6B;color:#fff}
/* Participation */
.entry{background:#fff;border-radius:20px;box-shadow:0 2px 12px rgba(0,0,0,.06);padding:12px 14px;margin:0 16px 10px;display:flex;align-items:center;gap:10px;opacity:0;transform:translateY(16px);transition:opacity .35s,transform .35s}
.entry.visible{opacity:1;transform:translateY(0)}
.pos{width:26px;height:26px;border-radius:50%;background:#F0F0F0;display:flex;align-items:center;justify-content:center;font-family:'Nunito',sans-serif;font-weight:800;font-size:11px;color:#636E72;flex-shrink:0}
.entry-info{flex:1;min-width:0}
.entry-name{font-weight:700;font-size:14px}
.entry-time{font-family:'Nunito',sans-serif;font-weight:700;font-size:13px;color:#4ECDC4;display:inline-flex;align-items:center;gap:6px}
.entry-actions{display:flex;align-items:center;gap:12px;flex-shrink:0}
.fire-btn{display:flex;align-items:center;gap:4px;cursor:pointer;font-size:12px;color:#636E72;transition:color .2s;user-select:none}
.fire-btn.active{color:#FF6B6B}
.fire-btn svg{width:16px;height:16px;transition:fill .2s,stroke .2s}
.fire-btn:not(.active) svg{fill:none;stroke:#636E72;stroke-width:2}
.fire-btn.active svg{fill:#FF6B6B;stroke:#FF6B6B;stroke-width:2}
.video-btn{cursor:pointer;display:flex;align-items:center}
.video-btn svg{width:18px;height:18px;fill:none;stroke-width:2;stroke-linecap:round;stroke-linejoin:round}
.video-btn.public svg{stroke:#4ECDC4}
.video-btn.private svg{stroke:#B2BEC3}
.video-btn.private{cursor:default}
/* Bottom nav */
.bottom-nav{position:fixed;bottom:0;left:50%;transform:translateX(-50%);width:100%;max-width:430px;background:#fff;display:flex;justify-content:space-around;padding:10px 0 20px;box-shadow:0 -2px 12px rgba(0,0,0,.04);z-index:100}
.nav-item{display:flex;flex-direction:column;align-items:center;gap:3px;text-decoration:none;cursor:pointer;font-size:11px;color:#B2BEC3;font-family:'Nunito',sans-serif;font-weight:600;transition:color .2s}
.nav-item.active{color:#FF6B6B}
.nav-item svg{width:22px;height:22px;fill:none;stroke:currentColor;stroke-width:2;stroke-linecap:round;stroke-linejoin:round}
@keyframes fadeUp{from{opacity:0;transform:translateY(16px)}to{opacity:1;transform:translateY(0)}}
</style>
</head>
<body>
<div class="app">

<!-- ===== VIEW 1: RETOS LIST ===== -->
<div id="retosListView">
<div class="header"><h1>Retos</h1></div>

<div class="card">
<span class="pill pill-coral">EN CURSO</span>
<div class="hero-title">100 burpees en el menor tiempo posible</div>
<div class="hero-sub">Semana 9 · Coach Dani</div>
<div class="stats-row">
<div class="stat-item">
<svg viewBox="0 0 24 24"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
47 participantes
</div>
<div class="stat-item">
<svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
3 días restantes
</div>
</div>
<button class="btn-coral" onclick="showDetail()">Ver reto</button>
</div>

<div class="section-title">Retos anteriores</div>

<div class="past-card">
<div class="week-circle" style="background:#4ECDC4">8</div>
<div class="past-info"><div class="past-name">5km en menos de 30 min</div><div class="past-meta">62 participantes</div></div>
<div class="past-arrow"><svg viewBox="0 0 24 24"><polyline points="9 18 15 12 9 6"/></svg></div>
</div>
<div class="past-card">
<div class="week-circle" style="background:#A29BFE">7</div>
<div class="past-info"><div class="past-name">50 flexiones seguidas</div><div class="past-meta">71 participantes</div></div>
<div class="past-arrow"><svg viewBox="0 0 24 24"><polyline points="9 18 15 12 9 6"/></svg></div>
</div>
<div class="past-card">
<div class="week-circle" style="background:#FDCB6E">6</div>
<div class="past-info"><div class="past-name">Plancha 3 minutos</div><div class="past-meta">55 participantes</div></div>
<div class="past-arrow"><svg viewBox="0 0 24 24"><polyline points="9 18 15 12 9 6"/></svg></div>
</div>
<div class="past-card">
<div class="week-circle" style="background:#FF6B6B">5</div>
<div class="past-info"><div class="past-name">200 sentadillas</div><div class="past-meta">48 participantes</div></div>
<div class="past-arrow"><svg viewBox="0 0 24 24"><polyline points="9 18 15 12 9 6"/></svg></div>
</div>
</div>

<!-- ===== VIEW 2: CHALLENGE DETAIL ===== -->
<div id="retoDetailView" style="display:none">
<div class="header-back">
<div class="back-btn" onclick="showList()">
<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#2D3436" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"/></svg>
</div>
<h1>Semana 9</h1>
</div>

<div class="card">
<span class="pill pill-coral">EN CURSO</span>
<div class="hero-title">100 burpees en el menor tiempo posible</div>
<div class="coach-row">
<div class="avatar-sm" style="background:#FF6B6B">CD</div>
<div><div class="coach-name">Coach Dani</div><div class="coach-date">Propuesto hace 4 días</div></div>
</div>
<p class="desc">Completa 100 burpees lo más rápido posible. Grábate en vídeo y sube tu tiempo. ¡El más rápido gana!</p>
<div class="countdown-pill">
<svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
Quedan 3 días 14h
</div>
<div class="detail-stats">47 participantes · 128 reacciones</div>
</div>

<div class="card">
<h3 class="nunito" style="font-weight:700;font-size:16px;margin-bottom:14px">Tu participación</h3>
<div class="upload-area">
<svg viewBox="0 0 24 24"><rect x="2" y="3" width="20" height="14" rx="2"/><circle cx="12" cy="10" r="3"/><path d="M7 3V1m10 2V1"/></svg>
<p>Grábate y sube tu vídeo</p>
</div>
<input class="input-field" type="text" placeholder="ej: 4:32">
<div class="toggle-row">
<svg viewBox="0 0 24 24"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
<span class="toggle-text" id="toggleLabel">Vídeo público para la comunidad</span>
<div class="toggle-switch" id="videoToggle" onclick="toggleVideo()"></div>
</div>
<button class="btn-coral">Enviar participación</button>
</div>

<div style="display:flex;align-items:center;justify-content:space-between;margin:20px 16px 12px">
<h3 class="nunito" style="font-weight:700;font-size:18px">Participaciones</h3>
<div style="display:flex;gap:6px">
<button class="filter-pill active" onclick="setFilter(this)">Recientes</button>
<button class="filter-pill" onclick="setFilter(this)">Mejor tiempo</button>
</div>
</div>

<div id="entriesContainer"></div>
</div>

<!-- BOTTOM NAV -->
<nav class="bottom-nav">
<a href="75tofit-hoy.html" class="nav-item">
<svg viewBox="0 0 24 24"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
Hoy
</a>
<a href="75tofit-retos.html" class="nav-item active">
<svg viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>
Retos
</a>
<a href="75tofit-ranking.html" class="nav-item">
<svg viewBox="0 0 24 24"><line x1="18" y1="20" x2="18" y2="10"/><line x1="12" y1="20" x2="12" y2="4"/><line x1="6" y1="20" x2="6" y2="14"/></svg>
Ranking
</a>
<a href="75tofit-perfil.html" class="nav-item">
<svg viewBox="0 0 24 24"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
Perfil
</a>
</nav>
</div>

<script>
const entries=[
{name:"Adrián Vega",init:"A",color:"#FF6B6B",time:"3:58",fire:56,pub:true,best:true},
{name:"Carlos Ruiz",init:"C",color:"#4ECDC4",time:"4:32",fire:34,pub:true,best:false},
{name:"Pablo Moreno",init:"P",color:"#A29BFE",time:"4:45",fire:21,pub:false,best:false},
{name:"María López",init:"M",color:"#FDCB6E",time:"5:15",fire:28,pub:true,best:false},
{name:"Laura Chen",init:"L",color:"#95E1D3",time:"6:02",fire:15,pub:false,best:false},
{name:"Sergio Torres",init:"S",color:"#FF6B6B",time:"6:18",fire:12,pub:true,best:false},
{name:"Ana Martín",init:"A",color:"#A29BFE",time:"6:45",fire:9,pub:false,best:false},
{name:"David Ruiz",init:"D",color:"#4ECDC4",time:"7:01",fire:7,pub:true,best:false},
{name:"Nadia Cano",init:"N",color:"#FDCB6E",time:"7:30",fire:5,pub:true,best:false},
{name:"Marcos Gil",init:"M",color:"#95E1D3",time:"8:12",fire:3,pub:false,best:false}
];

const fireSVG='<svg viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22c-4.97 0-7-3.58-7-7 0-2.47 1.3-4.73 2.78-6.44A9.8 9.8 0 0 0 10 4.52c.28 2.24 1.5 3.2 2.72 2.2C14.4 5.3 14.5 3 13.5 1c2.5 1 5.5 3.5 6.5 7 .5 1.5.5 3 0 4.5C19.5 15.5 17 18 14 19.5c-1 .6-2 1-2 2.5"/></svg>';
const videoSVG='<svg viewBox="0 0 24 24"><polygon points="23 7 16 12 23 17 23 7"/><rect x="1" y="5" width="15" height="14" rx="2"/></svg>';
const videoOffSVG='<svg viewBox="0 0 24 24"><path d="M16 16V5a2 2 0 0 0-2-2H3a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h11"/><polygon points="23 7 16 12 23 17 23 7"/><line x1="1" y1="1" x2="23" y2="23"/></svg>';

const container=document.getElementById('entriesContainer');
entries.forEach((e,i)=>{
const div=document.createElement('div');
div.className='entry';
div.innerHTML=`
<div class="pos">#${i+1}</div>
<div class="avatar-sm" style="background:${e.color}">${e.init}</div>
<div class="entry-info">
<div class="entry-name">${e.name}</div>
<div class="entry-time">${e.time} min ${e.best?'<span class="pill pill-gold">Mejor tiempo</span>':''}</div>
</div>
<div class="entry-actions">
<div class="fire-btn" data-count="${e.fire}" onclick="toggleFire(this)">${fireSVG}<span>${e.fire}</span></div>
<div class="video-btn ${e.pub?'public':'private'}">${e.pub?videoSVG:videoOffSVG}</div>
</div>`;
container.appendChild(div);
setTimeout(()=>div.classList.add('visible'),80*(i+1));
});

function showDetail(){
document.getElementById('retosListView').style.display='none';
document.getElementById('retoDetailView').style.display='block';
window.scrollTo(0,0);
document.querySelectorAll('.entry').forEach((el,i)=>{
el.classList.remove('visible');
setTimeout(()=>el.classList.add('visible'),80*(i+1));
});
}
function showList(){
document.getElementById('retoDetailView').style.display='none';
document.getElementById('retosListView').style.display='block';
window.scrollTo(0,0);
}
function setFilter(el){
el.parentElement.querySelectorAll('.filter-pill').forEach(p=>p.classList.remove('active'));
el.classList.add('active');
}
function toggleFire(el){
const span=el.querySelector('span');
let c=parseInt(el.dataset.count);
if(el.classList.toggle('active')){span.textContent=c+1}else{span.textContent=c}
}
function toggleVideo(){
const t=document.getElementById('videoToggle');
const l=document.getElementById('toggleLabel');
t.classList.toggle('off');
l.textContent=t.classList.contains('off')?'Vídeo oculto — solo se verá tu tiempo':'Vídeo público para la comunidad';
}
</script>
</body>
</html>

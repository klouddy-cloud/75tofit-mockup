<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>75toFit — Perfil</title>
<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@600;700;800&family=DM+Sans:wght@400;500;700&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{background:#EFEFEF;font-family:'DM Sans',sans-serif;color:#2D3436;-webkit-font-smoothing:antialiased}
.app{max-width:430px;margin:0 auto;background:#F7F7F2;min-height:100vh;padding:24px 20px 120px;position:relative}
h1,h2,h3,.stat-num,.nav-item{font-family:'Nunito',sans-serif}

/* Profile */
.profile{display:flex;gap:16px;align-items:flex-start;margin-bottom:20px}
.avatar-wrap{position:relative;flex-shrink:0}
.avatar-ring{width:90px;height:90px;border-radius:50%;overflow:hidden}
.avatar-ring img{width:90px;height:90px;border-radius:50%;object-fit:cover;display:block}
.hex-badge{position:absolute;bottom:2px;right:-2px;width:28px;height:28px;display:flex;align-items:center;justify-content:center}
.hex-badge svg{position:absolute;width:28px;height:28px}
.hex-badge span{position:relative;z-index:1;font-family:'Nunito',sans-serif;font-weight:800;font-size:10px;color:#fff}
.profile-right{flex:1;padding-top:4px}
.profile-name{font-weight:800;font-size:22px;margin-bottom:2px}
.profile-streak{font-size:14px;color:#636E72;display:flex;align-items:center;gap:4px;margin-bottom:8px}
.profile-pills{display:flex;gap:6px;flex-wrap:wrap}
.pill{background:#F0F0F0;border-radius:20px;padding:4px 12px;font-size:12px;color:#636E72;font-weight:500}

/* Level bar */
.level-bar{margin-bottom:20px}
.level-labels{display:flex;justify-content:space-between;margin-bottom:6px}
.level-pts{font-size:13px;color:#636E72}
.level-next{font-size:13px;color:#FF6B6B;font-family:'Nunito',sans-serif;font-weight:700}
.progress-track{height:8px;border-radius:4px;background:#EAEAEA;overflow:hidden}
.progress-fill{height:100%;border-radius:4px;background:linear-gradient(90deg,#FF6B6B,#FF8E8E);width:0;transition:width 1.2s cubic-bezier(.4,0,.2,1)}

/* Cards */
.card{background:#fff;border-radius:20px;box-shadow:0 2px 12px rgba(0,0,0,.06);padding:20px;margin-bottom:16px}
.card-title{font-family:'Nunito',sans-serif;font-weight:700;font-size:16px;margin-bottom:14px}
.card-title-row{display:flex;justify-content:space-between;align-items:center;margin-bottom:14px}
.card-title-row .card-title{margin-bottom:0}
.count-pill{font-size:12px;color:#636E72;background:#F0F0F0;border-radius:12px;padding:2px 10px;font-weight:600}

/* Compromiso */
.stats-row{display:flex}
.stat-item{flex:1;text-align:center;position:relative}
.stat-item+.stat-item::before{content:'';position:absolute;left:0;top:10%;height:80%;width:1px;background:#EAEAEA}
.stat-num{font-weight:800;font-size:28px;line-height:1.1}
.stat-label{font-size:11px;color:#636E72;margin-top:2px}

/* Badges */
.badges-scroll{display:flex;gap:12px;overflow-x:auto;scroll-snap-type:x mandatory;-ms-overflow-style:none;scrollbar-width:none;padding-bottom:4px}
.badges-scroll::-webkit-scrollbar{display:none}
.badge-item{min-width:72px;max-width:80px;scroll-snap-align:start;text-align:center;flex-shrink:0}
.badge-circle{width:48px;height:48px;border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto 6px;position:relative}
.badge-circle svg{width:24px;height:24px}
.badge-label{font-size:11px;font-weight:700;line-height:1.2;color:#2D3436;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}
.badge-item.locked{opacity:.4}
.badge-item.locked .badge-circle{background:#D5D5D5!important}
.badge-item.locked .badge-circle svg{stroke:#999!important;fill:none!important}
.lock-icon{position:absolute;bottom:-2px;right:-2px;width:16px;height:16px;background:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 1px 3px rgba(0,0,0,.15)}
.lock-icon svg{width:10px;height:10px;stroke:#999}

/* Chart */
.chart-wrap{width:100%;overflow:hidden}
.chart-wrap svg{width:100%;display:block}

/* Habits */
.week-nav{display:flex;align-items:center;gap:10px;font-size:14px;font-weight:700;font-family:'Nunito',sans-serif}
.week-nav button{background:none;border:none;cursor:pointer;padding:4px;color:#636E72;display:flex}
.week-nav button svg{width:18px;height:18px}
.habits-grid{display:grid;grid-template-columns:32px repeat(7,1fr);gap:6px 4px;align-items:center;margin-top:12px}
.habit-icon{width:22px;height:22px;display:flex;align-items:center;justify-content:center}
.habit-icon svg{width:18px;height:18px}
.day-label{font-size:10px;color:#636E72;text-align:center;font-weight:600}
.habit-dot{width:22px;height:22px;border-radius:50%;margin:0 auto}
.habit-dot.done{/* color set inline */}
.habit-dot.miss{background:#EAEAEA}
.habit-dot.future{background:transparent;border:1.5px dashed #D5D5D5}

/* Animations */
.fade-section{opacity:0;transform:translateY(18px);transition:opacity .5s ease,transform .5s ease}
.fade-section.visible{opacity:1;transform:translateY(0)}

/* Bottom nav */
.bottom-nav{position:fixed;bottom:0;left:50%;transform:translateX(-50%);width:100%;max-width:430px;background:#fff;display:flex;justify-content:space-around;padding:10px 0 20px;box-shadow:0 -2px 12px rgba(0,0,0,.04);z-index:100}
.nav-item{display:flex;flex-direction:column;align-items:center;gap:3px;text-decoration:none;cursor:pointer;font-size:11px;color:#B2BEC3;font-family:'Nunito',sans-serif;font-weight:600;transition:color .2s}
.nav-item.active{color:#FF6B6B}
.nav-item svg{width:22px;height:22px;fill:none;stroke:currentColor;stroke-width:2;stroke-linecap:round;stroke-linejoin:round}
</style>
</head>
<body>
<div class="app">

<!-- 1. PROFILE -->
<div class="profile fade-section">
  <div class="avatar-wrap">
    <div class="avatar-ring"><img src="eric-avatar.jpg" alt="Eric"></div>
    <div class="hex-badge">
      <svg viewBox="0 0 28 28"><polygon points="14,1 25.5,7.5 25.5,20.5 14,27 2.5,20.5 2.5,7.5" fill="#FF6B6B" stroke="#E05555" stroke-width=".5"/></svg>
      <span>N7</span>
    </div>
  </div>
  <div class="profile-right">
    <div class="profile-name">Eric Ponce</div>
    <div class="profile-streak">⚡ Racha actual: 12 días</div>
    <div class="profile-pills">
      <span class="pill">187 cm</span>
      <span class="pill">101.2 kg</span>
      <span class="pill">Hombre</span>
    </div>
  </div>
</div>

<!-- 2. LEVEL BAR -->
<div class="level-bar fade-section">
  <div class="level-labels">
    <span class="level-pts">487/800 pts</span>
    <span class="level-next">Nivel 8</span>
  </div>
  <div class="progress-track"><div class="progress-fill" id="levelFill"></div></div>
</div>

<!-- 3. COMPROMISO -->
<div class="card fade-section">
  <div class="stats-row">
    <div class="stat-item"><div class="stat-num">12</div><div class="stat-label">Compromiso</div></div>
    <div class="stat-item"><div class="stat-num">45</div><div class="stat-label">Pts semana</div></div>
    <div class="stat-item"><div class="stat-num">#34</div><div class="stat-label">Ranking</div></div>
    <div class="stat-item"><div class="stat-num">8</div><div class="stat-label">Retos</div></div>
  </div>
</div>

<!-- 4. LOGROS -->
<div class="card fade-section">
  <div class="card-title-row">
    <div class="card-title">Logros e insignias</div>
    <span class="count-pill">5/10</span>
  </div>
  <div class="badges-scroll" id="badgesScroll"></div>
</div>

<!-- 5. PESO -->
<div class="card fade-section">
  <div class="card-title">Evolución de peso</div>
  <div class="chart-wrap">
    <svg viewBox="0 0 340 160" preserveAspectRatio="xMidYMid meet">
      <defs>
        <linearGradient id="cg" x1="0" y1="0" x2="0" y2="1">
          <stop offset="0%" stop-color="#FF6B6B" stop-opacity=".15"/>
          <stop offset="100%" stop-color="#FF6B6B" stop-opacity="0"/>
        </linearGradient>
      </defs>
      <g id="chartArea"></g>
    </svg>
  </div>
</div>

<!-- 6. HÁBITOS -->
<div class="card fade-section">
  <div class="card-title-row">
    <div class="card-title">Hábitos semanales</div>
    <div class="week-nav">
      <button onclick="changeWeek(-1)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><polyline points="15 18 9 12 15 6"/></svg></button>
      <span id="weekLabel">Semana 9</span>
      <button onclick="changeWeek(1)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><polyline points="9 6 15 12 9 18"/></svg></button>
    </div>
  </div>
  <div class="habits-grid" id="habitsGrid"></div>
</div>

</div><!-- /app -->

<!-- BOTTOM NAV -->
<nav class="bottom-nav">
  <a href="75tofit-hoy.html?v=2" class="nav-item"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>Hoy</a>
  <a href="75tofit-retos.html?v=2" class="nav-item"><svg viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26"/></svg>Retos</a>
  <a href="75tofit-ranking.html?v=2" class="nav-item"><svg viewBox="0 0 24 24"><line x1="18" y1="20" x2="18" y2="10"/><line x1="12" y1="20" x2="12" y2="4"/><line x1="6" y1="20" x2="6" y2="14"/></svg>Ranking</a>
  <a href="75tofit-perfil.html?v=2" class="nav-item active"><svg viewBox="0 0 24 24"><path d="M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>Perfil</a>
</nav>

<script>
// Progress bar animation
setTimeout(()=>document.getElementById('levelFill').style.width='60.8%',200);

// Badges
const badges=[
  {name:'Top 1 Ranking',color:'#FFD700',icon:'<path d="M6 9H4l4-7h2l4 7h-2l-1-2H7L6 9z"/><path d="M12 9l-1 4h-2l-1-4"/><rect x="7" y="13" width="6" height="2" rx="1"/>',locked:true},
  {name:'10 días',color:'#FF6B6B',icon:'<path d="M12 22c-4-2.5-7-6.5-7-11a7 7 0 0114 0c0 4.5-3 8.5-7 11z"/>',locked:false},
  {name:'-1 kg',color:'#4ECDC4',icon:'<polyline points="23 18 13.5 8.5 8.5 13.5 1 6"/><polyline points="17 18 23 18 23 12"/>',locked:false},
  {name:'Semana perfecta',color:'#9B7FE6',icon:'<polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26"/>',locked:false},
  {name:'100 reacciones',color:'#E84393',icon:'<path d="M20.8 4.6a5.5 5.5 0 00-7.8 0L12 5.7l-1-1.1a5.5 5.5 0 00-7.8 7.8l1 1.1L12 21.3l7.8-7.8 1-1.1a5.5 5.5 0 000-7.8z"/>',locked:false},
  {name:'Sin alcohol 30d',color:'#00B894',icon:'<path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>',locked:true},
  {name:'Madrugador',color:'#FFE66D',icon:'<circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>',locked:true},
  {name:'Racha 30',color:'#F0983A',icon:'<path d="M12 22c-4-2.5-7-6.5-7-11a7 7 0 0114 0c0 4.5-3 8.5-7 11z"/><path d="M12 22c-1.5-1.5-3-3.5-3-6a3 3 0 016 0c0 2.5-1.5 4.5-3 6z"/>',locked:true},
  {name:'Top 10',color:'#B2BEC3',icon:'<circle cx="12" cy="8" r="6"/><path d="M9 20l3-6 3 6"/><line x1="9" y1="18" x2="15" y2="18"/>',locked:true},
  {name:'Primer reto',color:'#5DADE2',icon:'<path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"/><line x1="4" y1="22" x2="4" y2="15"/>',locked:false}
];
const lockSvg='<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><rect x="3" y="11" width="18" height="11" rx="2"/><path d="M7 11V7a5 5 0 0110 0v4"/></svg>';
const bs=document.getElementById('badgesScroll');
badges.forEach(b=>{
  const d=document.createElement('div');
  d.className='badge-item'+(b.locked?' locked':'');
  d.innerHTML=`<div class="badge-circle" style="background:${b.locked?'#D5D5D5':b.color}20"><svg viewBox="0 0 24 24" fill="none" stroke="${b.color}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">${b.icon}</svg>${b.locked?'<div class="lock-icon">'+lockSvg+'</div>':''}</div><div class="badge-label">${b.name}</div>`;
  bs.appendChild(d);
});

// Chart
(function(){
  const data=[101.5,101.8,101.3,101.6,101.2,101.4,101.1,101.2];
  const labels=['S1','S2','S3','S4','S5','S6','S7','S8'];
  const g=document.getElementById('chartArea');
  const W=340,H=160,padT=20,padB=30,padL=25,padR=30;
  const min=Math.min(...data)-.3,max=Math.max(...data)+.3;
  const pts=data.map((v,i)=>{
    const x=padL+i*((W-padL-padR)/(data.length-1));
    const y=padT+(max-v)/(max-min)*(H-padT-padB);
    return{x,y,v};
  });
  // area fill
  const pLine=pts.map(p=>p.x+','+p.y).join(' ');
  const area=`<polygon points="${pLine} ${pts[pts.length-1].x},${H-padB} ${pts[0].x},${H-padB}" fill="url(#cg)"/>`;
  const line=`<polyline points="${pLine}" fill="none" stroke="#FF6B6B" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>`;
  let dots='';
  pts.forEach((p,i)=>{
    const r=i===pts.length-1?5:3;
    dots+=`<circle cx="${p.x}" cy="${p.y}" r="${r}" fill="#FF6B6B" stroke="#fff" stroke-width="2"/>`;
    if(i===pts.length-1) dots+=`<text x="${p.x+8}" y="${p.y-6}" font-size="11" font-family="Nunito" font-weight="700" fill="#FF6B6B">${p.v}</text>`;
  });
  let xlabels='';
  pts.forEach((p,i)=>{xlabels+=`<text x="${p.x}" y="${H-8}" text-anchor="middle" font-size="11" font-family="DM Sans" fill="#636E72">${labels[i]}</text>`;});
  g.innerHTML=area+line+dots+xlabels;
})();

// Habits
const habitDefs=[
  {name:'Comer sano',color:'#FF6B6B',icon:'<path d="M18 8h1a4 4 0 010 8h-1M2 8h16v9a4 4 0 01-4 4H6a4 4 0 01-4-4V8z"/>'},
  {name:'Dormir',color:'#9B7FE6',icon:'<path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/>'},
  {name:'Sin alcohol',color:'#4ECDC4',icon:'<path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>'},
  {name:'Agua',color:'#5DADE2',icon:'<path d="M12 2.7S5 9 5 14a7 7 0 0014 0c0-5-7-11.3-7-11.3z"/>'},
  {name:'Ejercicio',color:'#F0983A',icon:'<path d="M20.2 6.8l-7.4 7.4-3-3-5 5"/><path d="M17 6.8h3.2V10"/>'},
  {name:'Leer',color:'#E8C820',icon:'<path d="M2 3h6a4 4 0 014 4v14a3 3 0 00-3-3H2z"/><path d="M22 3h-6a4 4 0 00-4 4v14a3 3 0 013-3h7z"/>'}
];
const weekData={
  9:{label:'Semana 9',today:3,data:[[1,1,1,-1,-1,-1,-1],[1,0,1,-1,-1,-1,-1],[1,1,1,-1,-1,-1,-1],[0,1,1,-1,-1,-1,-1],[1,0,0,-1,-1,-1,-1],[0,1,0,-1,-1,-1,-1]]},
  8:{label:'Semana 8',today:7,data:[[1,1,0,1,1,0,1],[1,1,1,0,1,1,0],[1,1,1,1,1,1,1],[1,0,1,1,0,1,1],[0,1,0,1,0,1,0],[1,0,1,0,1,0,1]]}
};
const days=['L','M','X','J','V','S','D'];
let currentWeek=9;

function renderHabits(){
  const w=weekData[currentWeek];
  const g=document.getElementById('habitsGrid');
  g.style.opacity=0;
  setTimeout(()=>{
    let h='<div></div>';
    days.forEach(d=>h+=`<div class="day-label">${d}</div>`);
    habitDefs.forEach((hab,hi)=>{
      h+=`<div class="habit-icon"><svg viewBox="0 0 24 24" fill="none" stroke="${hab.color}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">${hab.icon}</svg></div>`;
      w.data[hi].forEach(v=>{
        const cls=v===-1?'future':v===1?'done':'miss';
        const bg=v===1?`background:${hab.color}`:'' ;
        h+=`<div class="habit-dot ${cls}" style="${bg}"></div>`;
      });
    });
    g.innerHTML=h;
    document.getElementById('weekLabel').textContent=w.label;
    g.style.transition='opacity .3s';
    g.style.opacity=1;
  },150);
}
function changeWeek(d){
  const n=currentWeek+d;
  if(weekData[n]){currentWeek=n;renderHabits();}
}
renderHabits();

// Staggered fadeUp
const secs=document.querySelectorAll('.fade-section');
const io=new IntersectionObserver((es)=>{es.forEach(e=>{if(e.isIntersecting){e.target.classList.add('visible');io.unobserve(e.target);}});},{threshold:.15});
secs.forEach((s,i)=>{s.style.transitionDelay=i*80+'ms';io.observe(s);});
</script>
</body>
</html>
